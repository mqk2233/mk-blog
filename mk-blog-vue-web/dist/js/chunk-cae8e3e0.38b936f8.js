(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cae8e3e0"],{"59af":function(e,t,a){"use strict";a("6d66")},"6d66":function(e,t,a){},d5e2:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",{staticClass:"card"},[a("i-form",{attrs:{"label-width":80,inline:""}},[a("FormItem",{staticClass:"form-item",attrs:{label:"标签名"}},[a("label",[a("Input",{attrs:{clearable:"",placeholder:"标签名"},model:{value:e.searchLabelName,callback:function(t){e.searchLabelName=t},expression:"searchLabelName"}})],1)]),a("FormItem",{staticClass:"form-item2"},[a("Button",{staticStyle:{"margin-right":"1em"},attrs:{icon:"md-create",type:"success"},on:{click:function(t){return e.openModel("",!1,null)}}},[e._v("新增 ")]),a("Button",{attrs:{icon:"ios-search",type:"info"},on:{click:e.getLabelList}},[e._v("搜索 ")])],1)],1)],1),a("Card",[a("Table",{attrs:{columns:e.column,data:e.list,loading:e.loading,"no-data-text":"没有数据呀 ( ๑ŏ ﹏ ŏ๑ )",stripe:"",tooltip:""},scopedSlots:e._u([{key:"name",fn:function(t){var l=t.row;return[a("strong",[e._v(e._s(l.name))])]}},{key:"action",fn:function(t){var l=t.row;return[a("Button",{staticClass:"button",attrs:{size:"small",ghost:"",type:"info"},on:{click:function(t){return e.openModel(l.id,!0,l)}}},[e._v("编辑 ")]),a("Button",{attrs:{size:"small",ghost:"",type:"error"},on:{click:function(t){return e.doDelLabel(l.id)}}},[e._v("删除 ")])]}}])}),[a("Modal",{attrs:{loading:!0,title:e.editLabelTitle,true:""},on:{"on-ok":function(t){return e.doEditLabel("labelEdit")}},model:{value:e.isEditLabel,callback:function(t){e.isEditLabel=t},expression:"isEditLabel"}},[a("Form",{ref:"labelEdit",attrs:{model:e.labelEdit,rules:e.ruleCustom}},[a("FormItem",{attrs:{label:"标签名",prop:"labelName"}},[a("label",[a("Input",{attrs:{placeholder:"标签名"},model:{value:e.labelEdit.labelName,callback:function(t){e.$set(e.labelEdit,"labelName",t)},expression:"labelEdit.labelName"}})],1)]),a("FormItem",{attrs:{label:"排序标识",prop:"sort"}},[a("label",[a("InputNumber",{attrs:{placeholder:"排序标识"},model:{value:e.labelEdit.sort,callback:function(t){e.$set(e.labelEdit,"sort",t)},expression:"labelEdit.sort"}})],1)]),a("FormItem",{attrs:{label:"是否启用"}},[a("i-switch",{attrs:{"false-value":1,size:"large","true-value":0},model:{value:e.labelEdit.isDeleted,callback:function(t){e.$set(e.labelEdit,"isDeleted",t)},expression:"labelEdit.isDeleted"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("启用")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("禁用")])])],1)],1)],1)]],2),a("Page",{staticClass:"page",attrs:{current:e.currentPage,"page-size":e.pageSize,total:e.total,"show-sizer":"","show-total":"",transfer:""},on:{"on-change":e.pageChange,"on-page-size-change":e.pageSizeChange}})],1)},i=[],s={data:function(){return{list:[],listId:"",pageSize:10,total:0,currentPage:1,isEditLabel:!1,editLabelFlag:!1,editLabelTitle:"编辑标签",searchLabelName:"",loading:!0,column:[{type:"index",title:"序号",width:90,align:"center",indexMethod:function(e){return e._index+1}},{align:"center",title:"标签名",key:"labelName"},{align:"center",title:"排序标识",key:"sort"},{align:"center",title:"是否启用",key:"isDeleted",render:function(e,t){return e("Tag",{props:{color:0===t.row.isDeleted?"green":"red"}},0===t.row.isDeleted?"是":"否")}},{title:"操作",slot:"action",width:150,align:"center"}],labelEdit:{id:0,labelName:"",sort:0,isDeleted:0},ruleCustom:{labelName:[{required:!0,message:"标签名不能为空",trigger:"blur"},{pattern:/.{2,6}/,message:"请输入2-6位字符",trigger:"blur"}]}}},methods:{getLabelList:function(){var e=this;this.$api.label.labelPageList(this.searchLabelName,this.pageSize,this.currentPage).then((function(t){e.list=t.data.data,e.total=parseInt(t.data.total),e.loading=!1})).catch((function(t){e.$Notice.warning({title:t.data.msg})}))},openModel:function(e,t,a){this.isEditLabel=!0,t?(this.editLabelTitle="编辑标签",this.editLabelFlag=!0,this.labelEdit=a):(this.editLabelTitle="新增标签",this.editLabelFlag=!1,this.labelEdit.id="",this.labelEdit.labelName="",this.labelEdit.passWord="",this.labelEdit.remarks="")},doEditLabel:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=t.labelEdit;t.editLabelFlag?(t.$api.label.doEditLabel(a).then((function(e){t.$Notice.success({title:e.data.msg}),t.getLabelList()})).catch((function(e){t.$Notice.warning({title:e.data.msg})})),t.isEditLabel=!1):(t.$api.label.doAddLabel(a).then((function(e){t.$Notice.success({title:e.data.msg}),t.getLabelList()})).catch((function(e){t.$Notice.warning({title:e.data.msg})})),t.isEditLabel=!1)}else t.$Notice.warning({title:"操作失败"})}))},doDelLabel:function(e){var t=this;this.$api.label.doDelLabel(e).then((function(e){t.$Notice.success({title:e.data.msg}),t.getLabelList()})).catch((function(e){t.$Notice.warning({title:e.data.msg})}))},pageChange:function(e){this.currentPage=e,this.getLabelList()},pageSizeChange:function(e){this.pageSize=e,this.getLabelList()}},created:function(){this.getLabelList()}},n=s,o=(a("59af"),a("2877")),r=Object(o["a"])(n,l,i,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-cae8e3e0.38b936f8.js.map